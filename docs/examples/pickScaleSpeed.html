<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pick Scale and Speed Example - Particle Emitter</title>
    <link rel="stylesheet" href="css/main.css">
    <script src="https://pixijs.download/v6.5.8/pixi.min.js"></script>
    <script src="../../dist/particle-emitter.min.js"></script>
    <script src="js/ParticleExample.js"></script>
</head>
<body>
    <div class="container">
        <h1>Pick Scale and Speed Example</h1>
        <p>Demonstrates the new pickScale and pickSpeed formats for random ranges of values.</p>
        <div class="canvasContainer">
            <canvas id="stage" width="800" height="600"></canvas>
        </div>
    </div>

    <script>
        // Wait for the DOM to be ready
        document.addEventListener('DOMContentLoaded', function() {
            // Create a new example
            var example = new ParticleExample();
            
            // Initialize the example with the canvas
            example.init(document.getElementById('stage'));
            
            // Create an emitter with the new pickScale and pickSpeed formats
            var emitter = example.createEmitter({
                behaviors: [
                    {
                        type: 'alpha',
                        config: {
                            alpha: {
                                list: [
                                    { value: 0, time: 0 },
                                    { value: 1, time: 0.1 },
                                    { value: 0, time: 1 }
                                ]
                            }
                        }
                    },
                    {
                        type: 'scale',
                        config: {
                            pickScale: {
                                list: [
                                    {
                                        value: { min: 0.1, max: 0.3 },
                                        time: 0
                                    },
                                    {
                                        value: { min: 0.5, max: 0.8 },
                                        time: 0.5
                                    },
                                    {
                                        value: { min: 0.1, max: 0.2 },
                                        time: 1
                                    }
                                ]
                            }
                        }
                    },
                    {
                        type: 'color',
                        config: {
                            color: {
                                pickList: [
                                    {
                                        value: ['#ff0000', '#00ff00', '#0000ff'],
                                        time: 0
                                    },
                                    {
                                        value: ['#ffff00', '#ff00ff', '#00ffff'],
                                        time: 1
                                    }
                                ]
                            }
                        }
                    },
                    {
                        type: 'moveSpeed',
                        config: {
                            pickSpeed: {
                                list: [
                                    {
                                        value: { min: 50, max: 150 },
                                        time: 0
                                    },
                                    {
                                        value: { min: 100, max: 200 },
                                        time: 0.5
                                    },
                                    {
                                        value: { min: 20, max: 80 },
                                        time: 1
                                    }
                                ]
                            }
                        }
                    },
                    {
                        type: 'rotationStatic',
                        config: {
                            min: 0,
                            max: 360
                        }
                    },
                    {
                        type: 'spawnShape',
                        config: {
                            type: 'torus',
                            data: {
                                x: 400,
                                y: 300,
                                radius: 10,
                                innerRadius: 0,
                                affectRotation: true
                            }
                        }
                    },
                    {
                        type: 'textureSingle',
                        config: {
                            texture: 'particle.png'
                        }
                    }
                ],
                lifetime: {
                    min: 2,
                    max: 3
                },
                frequency: 0.05,
                spawnChance: 1,
                particlesPerWave: 5,
                emitterLifetime: -1,
                maxParticles: 500,
                pos: {
                    x: 0,
                    y: 0
                },
                addAtBack: false,
                spawnType: 'burst'
            });
            
            // Start the animation loop
            example.start();
        });
    </script>
</body>
</html>
